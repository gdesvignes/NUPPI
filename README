NUPPI - Pulsar data aquisition software at Nancay, the code being adapted from GUPPI by P.Demorest, S.Ransom et al. 

Gregory Desvignes
October 3rd, 2011


Requirements :
--------------

 1) To program the FPGA, it needs the Python KATCP library
    along with the katcp_wrapper distributed in the corr package

 2) Need dev-python/elementtree, dev-python/shm, sci-libs/fftw, sci-libs/cfitsio, dev-python/pyfits, dev-python/numpy for gentoo systems

 3) Install pyslalib, tempo (the new version from sourceforge!), cuda

 4) Install and configure ntpd


Setup :
-------

Add in sysctl.conf

kernel.shmmax = 3000000000 
net.core.wmem_max = 67108864 
net.core.rmem_max = 67108864
net.ipv4.tcp_sack = 0
net.ipv4.tcp_no_metrics_save = 1
net.ipv4.udp_rmem_min = 16777216 
net.ipv4.tcp_rmem = 4096 87380 67108864
net.ipv4.tcp_wmem = 4096 87380 67108864
net.core.netdev_max_backlog = 250000
net.ipv4.tcp_tw_recycle = 1
net.ipv4.tcp_fin_timeout = 10

Make sure that the DAQ environment variable has been set to point the package directory
On Gentoo :
  vi /etc/env.d/99nuppi
  add : NUPPI = "(directory)"
  env-update && source /etc/profile
  
To activate the FORWARD option (copy the raw data to an other IP address) in net_tread.c, please edit :
  src/Makefile


Compiling : 
-----------

  python setup.py install


